{# content \Netgen\EzPlatformSiteApi\API\Values\Content #}
{# location \Netgen\EzPlatformSiteApi\API\Values\Location #}

{% import '@ezdesign/parts/macros/cjw_macros.html.twig' as cjw_macros %}
{% import '@ezdesign/parts/content_fields.html.twig' as content_fields %}
{% import '@ezdesign/parts/macros/cjw_content_fields.html.twig' as cjw_content_fields %}

{% set image = null %}

{% if content.fields.teaser_image is defined and not content.fields.teaser_image.empty %}
{#    {% if ng_image_alias( content.fields.teaser_image, 'i770_16-9' ) %}#}
        {% set image = asset( ng_image_alias( content.fields.teaser_image, 'i770_16-9' ).uri ) %}
{#    {% endif %}#}
{% endif %}

<a href="{{ path( location ) }}"
   class="view-type view-type-{{ view_type }}"{% if image is not null %} style="background-image: url( '{{ image }}' );"{% endif %}>

    <div class="tile-feature">
        <header class="article-header">

            {% if content.fields.title is defined and not content.fields.title.empty %}
                <div class="tile-title">
                    {{ content_fields.title( content ) }}
                </div>
            {% endif %}

            {% if content.fields.teaser_intro is defined and not content.fields.teaser_intro.empty %}
                <div class="tile-intro">
                    {{ ng_render_field( content.fields.teaser_intro ) }}
                </div>
            {% endif %}

        </header>
    </div>
</a>
